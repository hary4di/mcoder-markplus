# M-Coder Platform - Supervisor Configuration
# Place this file in: /etc/supervisor/conf.d/mcoder.conf
# Then reload: sudo supervisorctl reread && sudo supervisorctl update

[program:mcoder]
command=/opt/markplus/mcoder/venv/bin/gunicorn -c /opt/markplus/mcoder/gunicorn.conf.py run_app:app
directory=/opt/markplus/mcoder
user=root
autostart=true
autorestart=true
redirect_stderr=true
stdout_logfile=/var/log/mcoder/gunicorn.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=/var/log/mcoder/gunicorn-error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10
environment=LANG="en_US.UTF-8",LC_ALL="en_US.UTF-8"

# Start delay
startsecs=5

# Stop signal
stopsignal=TERM
stopwaitsecs=30

# Priority
priority=999
